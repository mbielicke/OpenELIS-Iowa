<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="finalreport" language="groovy" pageWidth="595" pageHeight="792" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20">
	<property name="ireport.zoom" value="2.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="SAMPLE_ACCESSION_NUMBER" class="java.lang.Integer"/>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["/auto/home/akampoow/workspace/OpenELIS-EJB/src/org/openelis/report/finalreport/"]]></defaultValueExpression>
	</parameter>
	<parameter name="ORGANIZATION_ID" class="java.lang.Integer"/>
	<queryString>
		<![CDATA[SELECT
     s.id s_id,
     s.accession_number s_accession_number,
     s.revision s_revision,
     s.domain s_domain, so.id so_id
FROM
     sample s, outer sample_organization so
WHERE
     s.accession_number = $P{SAMPLE_ACCESSION_NUMBER} AND so.sample_id = s.id AND so.organization_id = $P{ORGANIZATION_ID}]]>
	</queryString>
	<field name="s_id" class="java.lang.Integer"/>
	<field name="s_accession_number" class="java.lang.Integer"/>
	<field name="s_revision" class="java.lang.Integer"/>
	<field name="s_domain" class="java.lang.String"/>
	<field name="so_id" class="java.lang.Integer"/>
	<pageHeader>
		<band height="132" splitType="Stretch">
			<staticText>
				<reportElement x="281" y="120" width="105" height="12"/>
				<textElement textAlignment="Right">
					<font size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[Accession Number]]></text>
			</staticText>
			<textField>
				<reportElement x="405" y="120" width="49" height="12"/>
				<textElement>
					<font size="10"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{s_accession_number}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="528" y="120" width="27" height="12"/>
				<textElement/>
				<textFieldExpression class="java.lang.Integer"><![CDATA[$F{s_revision}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="477" y="120" width="51" height="12"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Revision]]></text>
			</staticText>
			<line>
				<reportElement x="397" y="120" width="1" height="12"/>
			</line>
			<rectangle>
				<reportElement positionType="Float" x="139" y="67" width="416" height="32" forecolor="#E7E4E4" backcolor="#E7E4E4"/>
				<graphicElement>
					<pen lineWidth="0.0" lineStyle="Solid"/>
				</graphicElement>
			</rectangle>
			<staticText>
				<reportElement key="header-bottom" x="148" y="67" width="388" height="28" backcolor="#E7E4E4"/>
				<textElement>
					<font fontName="Times New Roman" size="22" isBold="false" isItalic="true" isUnderline="false" isStrikeThrough="false" pdfFontName="Times-Italic" pdfEncoding="CP1252" isPdfEmbedded="false"/>
				</textElement>
				<text><![CDATA[The University of Iowa]]></text>
			</staticText>
			<image>
				<reportElement key="uhl-logo-image" positionType="Float" x="1" y="10" width="85" height="85"/>
				<imageExpression class="java.lang.String"><![CDATA[$P{SUBREPORT_DIR} + "/uhlseal.gif"]]></imageExpression>
			</image>
			<line>
				<reportElement key="header-divide-line" x="139" y="59" width="416" height="1"/>
				<graphicElement>
					<pen lineWidth="2.0" lineStyle="Solid"/>
				</graphicElement>
			</line>
			<staticText>
				<reportElement key="header-top" x="148" y="0" width="407" height="47"/>
				<textElement>
					<font fontName="Times New Roman" size="34" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Times-Roman" pdfEncoding="CP1252" isPdfEmbedded="false"/>
				</textElement>
				<text><![CDATA[State Hygienic Laboratory]]></text>
			</staticText>
		</band>
	</pageHeader>
	<detail>
		<band height="20" splitType="Stretch">
			<subreport>
				<reportElement x="0" y="0" width="555" height="20">
					<printWhenExpression><![CDATA[$F{s_domain}.equals("E")]]></printWhenExpression>
				</reportElement>
				<subreportParameter name="SAMPLE_ORGANIZATION_ID">
					<subreportParameterExpression><![CDATA[$F{so_id}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="SAMPLE_ACCESSION_NUMBER">
					<subreportParameterExpression><![CDATA[$F{s_accession_number}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression class="java.lang.String"><![CDATA[$P{SUBREPORT_DIR} + "sampleEnvironmental.jasper"]]></subreportExpression>
			</subreport>
			<subreport>
				<reportElement x="0" y="0" width="555" height="12">
					<printWhenExpression><![CDATA[$F{s_domain}.equals("W")]]></printWhenExpression>
				</reportElement>
				<subreportParameter name="SAMPLE_ORGANIZATION_ID">
					<subreportParameterExpression><![CDATA[$F{so_id}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="SAMPLE_ACCESSION_NUMBER">
					<subreportParameterExpression><![CDATA[$F{s_accession_number}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression class="java.lang.String"><![CDATA[$P{SUBREPORT_DIR} + "samplePrivateWell.jasper"]]></subreportExpression>
			</subreport>
		</band>
		<band height="72">
			<staticText>
				<reportElement positionType="Float" x="185" y="24" width="194" height="12"/>
				<textElement textAlignment="Center">
					<font size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[Results of Analyses]]></text>
			</staticText>
			<subreport>
				<reportElement x="0" y="0" width="555" height="12" isRemoveLineWhenBlank="true"/>
				<subreportParameter name="SAMPLE_ID">
					<subreportParameterExpression><![CDATA[$F{s_id}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression class="java.lang.String"><![CDATA[$P{SUBREPORT_DIR} + "sampleQaeventNote.jasper"]]></subreportExpression>
			</subreport>
			<subreport>
				<reportElement positionType="Float" x="0" y="12" width="555" height="12"/>
				<subreportParameter name="SAMPLE_ID">
					<subreportParameterExpression><![CDATA[$F{s_id}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="SAMPLE_REFERENCE_TABLE_ID">
					<subreportParameterExpression><![CDATA[8]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression class="java.lang.String"><![CDATA[$P{SUBREPORT_DIR} + "sampleAuxData.jasper"]]></subreportExpression>
			</subreport>
			<subreport>
				<reportElement positionType="Float" x="0" y="36" width="555" height="12"/>
				<subreportParameter name="SAMPLE_ID">
					<subreportParameterExpression><![CDATA[$F{s_id}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression class="java.lang.String"><![CDATA[$P{SUBREPORT_DIR} + "analysis.jasper"]]></subreportExpression>
			</subreport>
			<subreport>
				<reportElement positionType="Float" x="0" y="60" width="555" height="12"/>
				<subreportParameter name="SAMPLE_ID">
					<subreportParameterExpression><![CDATA[$F{s_id}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression class="java.lang.String"><![CDATA[$P{SUBREPORT_DIR} + "analysisPending.jasper"]]></subreportExpression>
			</subreport>
			<staticText>
				<reportElement positionType="Float" x="185" y="48" width="194" height="12"/>
				<box bottomPadding="0"/>
				<textElement textAlignment="Center">
					<font size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[Pending Analyses]]></text>
			</staticText>
		</band>
	</detail>
	<pageFooter>
		<band height="65">
			<textField evaluationTime="Report">
				<reportElement x="305" y="15" width="39" height="12"/>
				<textElement/>
				<textFieldExpression class="java.lang.String"><![CDATA[$V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="270" y="15" width="35" height="12"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression class="java.lang.String"><![CDATA[$V{PAGE_NUMBER} + " of "]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="0" y="27" width="555" height="1"/>
			</line>
			<staticText>
				<reportElement x="0" y="33" width="114" height="11"/>
				<textElement>
					<font size="6"/>
				</textElement>
				<text><![CDATA[Michael D. Wichman, Ph.D.]]></text>
			</staticText>
			<staticText>
				<reportElement x="128" y="33" width="116" height="11"/>
				<textElement>
					<font size="6"/>
				</textElement>
				<text><![CDATA[2490 Cross Park Road]]></text>
			</staticText>
			<staticText>
				<reportElement x="264" y="44" width="134" height="10"/>
				<textElement>
					<font size="6" isItalic="true"/>
				</textElement>
				<text><![CDATA[http://www.uhl.uiowa.edu]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="44" width="114" height="10"/>
				<textElement>
					<font size="6"/>
				</textElement>
				<text><![CDATA[Michael A. Pentella, Ph.D.]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="54" width="114" height="11"/>
				<textElement>
					<font size="6"/>
				</textElement>
				<text><![CDATA[Associate Directors]]></text>
			</staticText>
			<staticText>
				<reportElement x="128" y="44" width="116" height="10"/>
				<textElement>
					<font size="6"/>
				</textElement>
				<text><![CDATA[Coralville, Iowa 52241]]></text>
			</staticText>
			<staticText>
				<reportElement x="128" y="54" width="116" height="11"/>
				<textElement>
					<font size="6"/>
				</textElement>
				<text><![CDATA[319/335-4500  Fax: 319/335-4555]]></text>
			</staticText>
			<staticText>
				<reportElement x="416" y="44" width="139" height="10"/>
				<textElement>
					<font size="6"/>
				</textElement>
				<text><![CDATA[2220 S. Ankeny Blvd, Ankeny, Iowa 50023]]></text>
			</staticText>
			<staticText>
				<reportElement x="416" y="33" width="139" height="11"/>
				<textElement>
					<font size="6"/>
				</textElement>
				<text><![CDATA[Iowa Laboratories Complex]]></text>
			</staticText>
			<staticText>
				<reportElement x="416" y="54" width="139" height="11"/>
				<textElement>
					<font size="6"/>
				</textElement>
				<text><![CDATA[515/725-1600   Fax: 515/725-1642]]></text>
			</staticText>
			<staticText>
				<reportElement x="244" y="15" width="26" height="12"/>
				<textElement textAlignment="Right"/>
				<text><![CDATA[Page]]></text>
			</staticText>
		</band>
	</pageFooter>
</jasperReport>
