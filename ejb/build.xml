<?xml version="1.0"?>

<!-- ======================================================================= -->
<!-- JBoss build file                                                       -->
<!-- ======================================================================= -->

<project name="ELIS" default="ejbjar" basedir=".">

  <property environment="env"/>
  <property name="src.resources" value="${basedir}/src/resources"/>
 
  <target name="ejbjar">
    <jar jarfile="build/openelis.jar">
        <fileset dir="bin">
      	    <include name="org/openelis/bean/*.class"/>
      	    <include name="org/openelis/entity/*.class"/>
      	    <include name="org/openelis/local/*.class"/>
      	    <include name="org/openelis/utils/*.class"/>
        </fileset>
        <fileset dir="${src.resources}/">
          	<include name="META-INF/persistence.xml"/>
         </fileset>
    </jar>
  	<jar jarfile="build/openelis-common.jar">
  	    <fileset dir="../OpenELIS-Common/bin">
  	       <include name="org/openelis/domain/*.class"/>
  	       <include name="org/openelis/remote/*.class"/>
  	       <include name="org/openelis/local/*.class"/>
  	       <include name="org/openelis/util/*.class"/>
  	    </fileset>
    </jar>
    <jar jarfile="build/openelis.ear"> 
        <fileset dir="${src.resources}/">
            <include name="META-INF/application.xml"/>
        </fileset>
    	<fileset dir="build">
    		<include name="openelis.jar"/>
        </fileset>
        <fileset dir="build">
        	  <include name="openelis-common.jar"/>
        </fileset>
    </jar>
  </target>

</project>

